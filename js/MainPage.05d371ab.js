(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["MainPage"],{4385:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.clicked(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"Add some cities"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),i("button",{attrs:{type:"submit"}},[t._v("Add")]),t.isCityMissing&&t.name?i("div",{staticClass:"error"},[t._v("City not found")]):t.isCityAlreadyAdded&&t.name?i("div",{staticClass:"error"},[t._v(" City is already in list ")]):t._e()]),t.cities.length?i("div",{staticClass:"cities-cards-grid"},t._l(t.cities,(function(e){return i("div",{key:e.id,staticClass:"city-card"},[i("CityCover",{style:{"background-color":e.color},attrs:{city:e},on:{cityRemoved:function(e){return t.removeCity(e)},cityUpdated:function(e){return t.updateCity(e)}}})],1)})),0):t.cities.length?t._e():i("h1",{staticClass:"start-text"},[t._v(" There are no selected cities. Type city name in the input field above ")])])},r=[],s=i("1da1"),a=(i("96cf"),i("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"city-card"},[n("router-link",{attrs:{custom:"",to:{name:"CityDetails",params:{cityName:t.city.name}}},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.navigate;return[n("div",{staticClass:"description",attrs:{role:"link"},on:{click:i}},[n("h1",[t._v(t._s(t.city.name))]),n("h3",[t._v(t._s(Math.round(t.city.main.temp))+" Â°C")]),n("h3",[t._v(t._s(t.city.weather[0].main))]),n("img",{attrs:{src:"http://openweathermap.org/img/wn/"+t.city.weather[0].icon+"@2x.png"}})])]}}])}),n("div",{staticClass:"remove-btn",on:{click:function(e){return t.$emit("cityRemoved",t.city.name)}}},[n("img",{staticClass:"btn-icon",attrs:{src:i("7e18")}})]),n("div",{staticClass:"update-btn",on:{click:function(e){return t.$emit("cityUpdated",t.city.name)}}},[n("img",{staticClass:"btn-icon",attrs:{src:i("b7d8")}})])],1)}),c=[],o={name:"CityCover",props:["city"]},u=o,d=(i("ce66"),i("2877")),m=Object(d["a"])(u,a,c,!1,null,"5f4d9de6",null),l=m.exports,p={name:"MainPage",components:{CityCover:l},data:function(){return{img:"",name:"",cities:[],isCityMissing:!0,isCityAlreadyAdded:!1}},watch:{name:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("checkCityName",t.name);case 2:t.isCityMissing=t.$store.getters.isCityMissing,t.isCityAlreadyAdded=t.$store.getters.isCityAlreadyAdded;case 4:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("fetchSavedCitiesInfo");case 2:t.cities=t.$store.getters.Cities;case 3:case"end":return e.stop()}}),e)})))()},methods:{clicked:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.name||t.isCityAlreadyAdded||t.isCityMissing){e.next=5;break}return e.next=3,t.$store.dispatch("addCity",t.name);case 3:t.cities=t.$store.getters.Cities,t.name="";case 5:case"end":return e.stop()}}),e)})))()},removeCity:function(t){this.$store.dispatch("removeCity",t),this.cities=this.$store.getters.Cities},updateCity:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,e.$store.dispatch("updateCityWeather",t);case 2:e.cities=e.$store.getters.Cities;case 3:case"end":return i.stop()}}),i)})))()}}},f=p,y=(i("8d57"),Object(d["a"])(f,n,r,!1,null,"25c9778a",null));e["default"]=y.exports},"4ab7":function(t,e,i){},"7a3f":function(t,e,i){},"7e18":function(t,e,i){t.exports=i.p+"img/remove.6118f775.svg"},"8d57":function(t,e,i){"use strict";i("4ab7")},b7d8:function(t,e,i){t.exports=i.p+"img/refresh.ad8b244b.svg"},ce66:function(t,e,i){"use strict";i("7a3f")}}]);
//# sourceMappingURL=MainPage.05d371ab.js.map